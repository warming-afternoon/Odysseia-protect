# -*- coding: utf-8 -*-
"""
这个文件用于存放项目的配置信息和常量。
"""

# ===================================================================================
# 隐私协议文本
# ===================================================================================

PRIVACY_POLICY_TEXT = """
**数据存储与隐私协议**

感谢您使用本 Bot！为了提供文件上传与管理服务，Bot 需要存储一些与您和您上传内容相关的信息。

**Bot 会存储哪些信息？**
1.  **您的 Discord 用户 ID**: 用于确认您是帖子的创建者和资源上传者，以便授权您管理自己的资源。
2.  **帖子ID**: 用于将您上传的资源与特定的帖子关联起来。
3.  **资源元数据**: 包括您上传的文件名、版本信息、以及由 Discord 生成的文件下载链接。
4.  **【受保护文件】文件副本**: 当您选择上传 `受保护文件` 时，您上传的文件会被转发并存储在一个**私密的、只有 Bot 和服务器管理员有权访问的仓库频道**中。这样做是为了增加一层保护，也是此功能的必须选项。

**Bot 如何使用这些信息？**
-   这些信息仅用于实现 Bot 的核心功能，即文件的上传、下载和管理。
-   您的数据**不会**与任何第三方分享。
-   存储在私密仓库频道的文件副本仅用于生成下载链接，不会被用于任何其他目的。

**数据删除**
-   您可以使用 `/管理` 命令随时删除您上传的任何资源。当您删除一个资源时，其在数据库和仓库频道中的记录会被**永久删除**。
-   如果该资源是作为“受保护文件”上传的，存储在仓库频道中的对应文件消息也会被**一并删除**。

**同意**
-   通过点击下方的“同意”按钮，即表示您已阅读、理解并同意本协议。
-   您只需同意一次即可。之后使用本 Bot 的所有功能都将遵循本协议。

如果您对本协议有任何疑问，请联系服务器管理员。
"""


# ===================================================================================
# Bot 使用手册文本
# ===================================================================================

USER_MANUAL_TEXT = """
### **Bot 使用手册 (作者版)**
本 Bot 帮助您在帖子内轻松管理资源，提供两种资源类型：**普通资源**和**受保护资源**。以下分别介绍两种类型的使用方法。

---

### **📄 普通资源 (已发布在帖子中的文件)**
您已经将文件以附件形式发送在帖子中，Bot 仅记录该消息的位置，不存储文件副本。

#### **1. 上传普通资源**
*   **方法一：使用命令**
    *   命令: `/上传`
    *   步骤: 选择“普通文件”，粘贴**消息链接**，填写版本信息。
*   **方法二：使用右键菜单 (推荐)**
    *   在帖子内右键点击任何一条包含了资源的消息，选择 `Apps` -> `上传为普通文件`，即可快速将其登记到下载列表中。

#### **2. 管理普通资源**
*   **命令**：`/管理`
*   **功能**：查看、修改版本信息、删除资源记录（不删除原始消息）。

#### **3. 下载普通资源**
*   **命令**：`/下载`
*   **流程**：用户选择资源后，直接跳转到原始消息进行下载。

---

### **🔒 受保护资源 (由 Bot 安全存储的文件)**
**核心概念**：您将文件直接上传给 Bot，Bot 将其存储在私密仓库，提供有时效性的下载链接，并可实现**密码保护**和**下载计数**。

#### **1. 上传受保护资源**
*   **方法一：使用命令**
    *   命令: `/上传`
    *   步骤: 选择“受保护文件”，**上传文件附件**，填写版本信息和可选的密码。
*   **方法二：使用右键菜单 (推荐)**
    *   在帖子内右键点击任何一条**包含了附件**的消息，选择 `Apps` -> `上传为受保护资源`。
    *   Bot 将自动抓取附件并弹出信息填写窗口，极大简化了上传流程。

#### **2. 管理受保护资源**
*   **命令**：`/管理`
*   **功能**：查看、修改版本信息和密码、删除资源（**会连同仓库中的文件一并删除**）。

#### **3. 下载受保护资源**
*   **命令**：`/下载`
*   **流程**：
    1.  Bot 会在资源列表中显示每个版本的**下载次数**。
    2.  用户选择资源后，若有密码，则需输入密码。
    3.  验证通过后，Bot 会发送一条**有时效性的私密下载链接**。

---

### **🛡️ 反应墙功能（可选）**
**作用**：您可以要求用户在下载资源前对帖子的起始消息做出反应，以增加互动或防止机器人自动下载。

*   **如何启用**：在 `/管理` 命令里开启。
*   **对用户的影响**：当反应墙启用后，用户使用 `/下载` 命令时，Bot 会检查该用户是否已对帖子起始消息做出反应。若未反应，则会提示用户先做出反应。
*   **自定义表情**：您可以指定一个特定的表情（如 👍）作为反应目标，若不指定则任何反应均可。
*   **未设置反应符号**：如果您开启了反应墙但没有指定表情，用户对起始消息做出**任何反应**即可通过验证。
*   **适用资源**：反应墙仅对受保护资源生效。

---

### **⚠️ 常见问题**
*   **Q：我不是帖子的作者，可以上传吗？**
    A：不可以。只有帖子作者才能上传和管理资源。

*   **Q：如何同意隐私协议？**
    A：首次使用 Bot 时，会自动显示隐私协议，点击“同意”即可。只需同意一次。

*   **Q：受保护资源的仓库频道在哪里？**
    A：由服务器管理员配置，作者无需关心。文件存储在一个只有 Bot 和管理员可见的私密频道中。

---

### **📋 命令总结**
*   `/上传` – 上传新资源（普通/受保护）。
*   **右键菜单 (`Apps`)** -> `上传...` – 快捷上传资源。
*   `/管理` – 管理您已上传的所有资源。
*   `/下载` – 获取本帖的资源列表并下载。
*   `/使用手册` – 显示本手册。

---

### **💡 友情提示**
*   **请尽量使用 `/下载` 命令**：直接在帖子中发送“下载”二字虽然也能触发下载面板，但这种方式主要是为了方便手机端用户。在电脑端，我们强烈建议您使用 `/下载` 斜杠命令，它更稳定、更可靠，并且能提供更详细的资源信息。

希望本 Bot 能让您的资源分享更加轻松！
"""


# ===================================================================================
# 反垃圾/滥用 配置
# ===================================================================================

# 在帖子中监听的、用于触发临时下载面板的关键词列表
# 包括了中文（全角）斜杠
ANTISPAM_KEYWORDS = [
    "／下载",  # 中文（全角）斜杠
    "下载",
    "/下载",
]
